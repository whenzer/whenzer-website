<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>rock paper scissors</title>
</head>
<body>
    <button onclick="randomize(1)">Rock</button>
    <button onclick="randomize(2)">Paper</button>
    <button onclick="randomize(3)">Scrissors</button>
    <button onclick="localStorage.removeItem('score'); setScore(); document.getElementById('score').innerHTML =`<br>player: ${score.player} computer: ${score.computer} tie: ${score.tie}`;">reset score</button>
    <p>SCORE:</p>
    <p id="score"></p>
    <script>
        
        //this code does nothing, only my notes

        const object4 = {
            message: 'Good job!',
            price: 799
        }//how do i shortcut this?
        const { message, price } = object4; /*destructuring shortcut!, 
        it does the same thing as var message = object4.message*/
        console.log(message);
        console.log(price)
        
        const object5 = {
            message, //shorthand property - does the same thing as message: message referring to the message variable
            method() {
                console.log('this is a message' + message); //shorthand method - can refer as object5.method();
            }
        }
        object5.method();
        console.log('this is a string'.length); //autoboxing - automatically puts the string into the string object hence it can call the .length method

        /* falsy values 
        null - complete absence of a value
        undefined - not defined yet. can use default value
        false - keyword false
        NaN - not a number
        0 - number 0 or 0.0 or 0x0
        -0 - number negative 0 or -0.0 or -0x0
        0n - BigInt zero, also 0x0n. there is no bigint negative zero. 
        "" - empty string. also '' and ``
        document.all - the only falsy object in js
        */

        //objects are references
        const object1 = {
            name: 'sample'
        }
        const object2 = object1; //refers to object1
        object2.name = 'haha'; //changes the object1 name property
        console.log(object1.name);

        //difference between null and undefined
        function example1(a = 'default'){
            b = Boolean(a);//converts a parameter into boolean
            console.log(a);
            console.log(b);
        }
        example1(); //the value was not defined, this will refer to the default value. boolean value true
        example1(null); //the value was nullified. the a parameter is now null. boolean value false




        //rock paper scissors start here:
        var score;
        function setScore(){
            score = JSON.parse(localStorage.getItem('score')) || {
                player: 0,
                computer: 0,
                tie: 0
            }
        }
        function randomize(num){
            var randomNumber = Math.random();
            var comp;
            var player;
            var cond;
            setScore();
             /*
                JSON.parse converts JSON string into a javascript Object

                default operator - checks to see if a score Item is NULL, then it uses the default operator. if not NULL then it assigns the 'score' item into the score variable
                this does the same thing as:

                if(!score){
                    score = {
                    player: 0,
                    computer: 0,
                    tie: 0
                    }
                }

                or

                if(score === null){
                    score = {
                    player: 0,
                    computer: 0,
                    tie: 0
                    }
                }
            */

            switch(num){
                case 1:
                    player = 'rock';
                    break;
                case 2:
                    player = 'paper';
                    break;
                case 3:
                    player = 'scissors';
                    break;
            } //checks which hand the player chose

            if(randomNumber <= (1/3)){
                comp = 'rock';
                if(player === 'paper'){
                    cond = 'win';
                    score.player += 1
                }else if(player === 'scissors'){
                    cond = 'lost';
                    score.computer += 1
                } //the winnning condition is defined after the comp chose its hand
            } //checks if the random generated number is within the first part of the trisection 0 and 1/3
            else if(randomNumber >= (1/3) && randomNumber <= (2/3)){
                comp = 'paper';
                if(player === 'scissors'){
                    cond = 'win';
                    score.player += 1
                }else if(player === 'rock'){
                    cond = 'lost';
                    score.computer += 1
                }//the winnning condition is defined after the comp chose its hand
            }//checks if the random generated number is within the midde part of the trisection 1/3 and 2/3
            else{
                comp = 'scissors';
                if(player === 'rock'){
                    cond = 'win';
                    score.player += 1
                }else if(player === 'paper'){
                    cond = 'lost';
                    score.computer += 1
                }//the winnning condition is defined after the comp chose its hand
            }//checks if the random generated number is within the last part of the trisection 2/3 and 3/3

            if(player === comp){
                score.tie += 1;
                cond = 'tie';
                document.getElementById("score").innerHTML =`you chose ${player} and your opponent chose ${comp} <br> it's a ${cond}
                <br>player: ${score.player} computer: ${score.computer} tie: ${score.tie}`;
            }//checks if the player and comp chose the same hand
            else{
                document.getElementById("score").innerHTML =`you chose ${player} and your opponent chose ${comp} <br> you ${cond}
                <br>player: ${score.player} computer: ${score.computer} tie: ${score.tie}`;
            }//checks to see who won
            localStorage.setItem('score', JSON.stringify(score))//sends the score to local storage by converting the score object into a JSON string
        }
    </script>
</body>
</html>